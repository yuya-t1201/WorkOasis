<script>
  $(document).ready(function() {
    // 各星に対してクリックイベントを設定
    $('.star').click(function() {
      // クリックされた星のインデックスを取得
      var clickedIndex = $(this).index();

      // クリックされた星とそれ以降の星を黄色に変更
      $('.star').each(function(index) {
        if (index <= clickedIndex) {
          $(this).css('color', '#fbe704'); // 選択した星とそれ以降の星を黄色に
        } else {
          $(this).css('color', '#ccc'); // クリックされなかった星は灰色に
        }
      });

      // 隠しフィールドにクリックされた星の数を設定（評価は0から4の範囲）
      $('#review_rating').val(clickedIndex + 1);
    });

    // ページ読み込み時に初期評価を設定（デフォルトは0）
    $('#review_rating').val(0);
  });
</script>